(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5226)}])},7909:function(e,t,n){"use strict";n.d(t,{Q:function(){return d},z:function(){return f}});var r=n(5893),a=n(1664),i=n.n(a),s=n(5870),l=n.n(s),o=n(1752),c=n.n(o);let u=(e,t)=>[l().button,l()[e||"primary"],...null!=t?t:[]].join(" "),f=e=>{let{children:t,priority:n,title:a,classes:i,disabled:s,onClick:l}=e;return(0,r.jsx)("button",{className:u(null!=n?n:"primary",i),onClick:l,title:a,disabled:s,children:t})},d=e=>{let{children:t,href:n,title:a,priority:s,classes:l}=e,o=c()(),f=o.publicRuntimeConfig.assetPrefix?o.publicRuntimeConfig.assetPrefix.slice(0,-1)+n:n;return(0,r.jsx)(i(),{className:u(null!=s?s:"primary",l),title:a,href:f,children:t})}},4748:function(e,t,n){"use strict";n.d(t,{n:function(){return s}});var r=n(5893),a=n(9188),i=n.n(a);let s=e=>(0,r.jsx)("div",{className:i().titlepanel,children:(0,r.jsx)("h1",{children:e.text})})},2686:function(e,t,n){"use strict";n.d(t,{BT:function(){return a},tf:function(){return i},yy:function(){return r}});let r=Object.freeze({REGISTRY:"registry.json",SCHEMA:"schema.json",STAGEFILES:"stagefiles"}),a=Object.freeze(["application/json","text/yaml","text/x-yaml","application/x-yaml","text/vnd.yaml"]),i=Object.freeze([".json",".yaml",".yml"])},7423:function(e,t,n){"use strict";n.d(t,{AV:function(){return o},IS:function(){return c},K8:function(){return u},i8:function(){return d},q4:function(){return f}});var r=n(4707),a=n(4360),i=n(8764),s=n(2686);function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i.lW.concat([e,i.lW.alloc(Math.max(0,t-e.length),n)])}async function o(e){let t=await fetch(e,{method:"GET",headers:{Accept:s.BT.join(",")}});if(!t.ok)return null;try{var n;return(null===(n=t.headers.get("Content-Type"))||void 0===n?void 0:n.match("application/json"))?await t.json():a.Qc(await t.text())}catch(e){return console.error("Parse error",e),null}}async function c(e){let t=await o(e);return t?{author:t.author,title:t.title}:null}async function u(e,t){if(!0!=e.encrypted)return e;{let n=function(e,t,n){let a=i.lW.from(n),s=a.reduce((e,t)=>e^t),o=l(a.slice(0,16),16,s),c=l(a.slice(16,24),8,s),u=i.lW.from(e,"hex");try{let e=JSON.parse((0,r.pe)(u,o,"cbc",c,!0).toString("utf-8").slice(0,t));return e}catch(e){return console.error("Decrypt error",e),null}}(e.data,e.size,t);return n||null}}function f(e){return new Promise((t,n)=>{let r=new FileReader;r.onload=()=>{var e;let n="string"==typeof r.result?r.result:new TextDecoder().decode(null!==(e=r.result)&&void 0!==e?e:void 0);try{return t(JSON.parse(n))}catch(e){console.error("JSON parse error",e);try{return t(a.Qc(n))}catch(e){return console.error("YAML parse error",e),t(null)}}},r.onabort=n,r.onerror=n,r.readAsText(e,"utf-8")})}function d(e){if("string"!=typeof e)return e;{let t=e.indexOf(":"),[n,r]=[e.substring(0,t),e.substring(t+1)];if(!["game_over","stage","invalid"].includes(n))return{type:"invalid"};switch(n){case"invalid":default:return{type:"invalid"};case"game_over":return{type:"game_over",message:r};case"stage":return{type:"stage",stage:r}}}}},5226:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(5893),a=n(2686);async function i(e){try{let t=await fetch(e,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)return console.error("Response error",t.status),null;return await t.json()}catch(e){return console.error("Parse error",e),null}}var s=n(7423),l=n(7909),o=n(7116),c=n.n(o);let u=e=>{var t,n;return(0,r.jsxs)(l.Q,{priority:"secondary",href:"stage?s=".concat(e.stage),classes:[c().stagecard],children:[(0,r.jsx)("span",{className:c().title,children:null!==(t=e.title)&&void 0!==t?t:e.stage}),(0,r.jsxs)("span",{className:c().author,children:["by ",null!==(n=e.author)&&void 0!==n?n:"unknown"]})]})};var f=n(2729),d=n.n(f),p=n(7294),h=n(4748),y=n(1752),_=n.n(y);function m(){var e;let t=_()(),[n,o]=(0,p.useState)([]),c=()=>i((null!==(e=t.publicRuntimeConfig.assetPrefix)&&void 0!==e?e:"")+a.yy.REGISTRY).then(async e=>{if(!e){console.error("Failed loading registry");return}let n=[];for(let i of e.stages){var r;let e=await (0,s.IS)("".concat(null!==(r=t.publicRuntimeConfig.assetPrefix)&&void 0!==r?r:"").concat(a.yy.STAGEFILES,"/").concat(i));e&&n.push({filename:i,base:e})}o(n)});return(0,p.useEffect)(()=>{c()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.n,{text:"Műalkot\xe1sok"}),(0,r.jsxs)("div",{className:d().contentpanel,children:[(0,r.jsx)("div",{className:d().stagelist,children:n.map((e,t)=>(0,r.jsx)(u,{stage:e.filename,...e.base},t))}),(0,r.jsxs)("div",{className:d().buttons,children:[(0,r.jsx)(l.Q,{href:"/stage_local",children:" Helyi f\xe1jl megnyit\xe1sa "}),(0,r.jsx)(l.Q,{href:"/editor",children:" Szerkesztő "})]})]})]})}},9188:function(e){e.exports={titlepanel:"titlepanel_titlepanel__iImoc"}},2729:function(e){e.exports={buttons:"index_buttons__jOyIn",stagelist:"index_stagelist__w6tRw"}},5870:function(e){e.exports={button:"button_button__qrSvw",primary:"button_primary__e2_Sy",secondary:"button_secondary__DAail",tetriary:"button_tetriary__rvrGd"}},7116:function(e){e.exports={stagecard:"stagecard_stagecard__FkuUv",title:"stagecard_title__F2mli",author:"stagecard_author__CUDPj"}}},function(e){e.O(0,[350,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);